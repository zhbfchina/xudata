<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
    <script type="text/javascript" src="js/jquery-3.2.1.js"></script>
    <script src="js/html2canvas-0.4.1.js"></script>
    <!--html2canvas-0.5.js在此不能用-->
   <!-- <script src="../../test/js/html2canvas-0.5.js"></script>-->
    <!--<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.min.js"></script>  
        <script type="text/javascript" src="http://html2canvas.hertzen.com/build/html2canvas.js"></script>-->
    <script  type="text/javascript" >
        $(document).ready(function () {
            $(".example1").on("click", function (event) {
                event.preventDefault();
                //html2canvas()函数有两个参数，传入的参数是document.body，这会截取整个页面的图像。如果你想只截取一个区域，比如对某个div或某个table截图，你就将这个div或某个table当做参数传进去。
                html2canvas(document.body, {
                    allowTaint: true,
                    taintTest: false,
                    onrendered: function (canvas) {
                        canvas.id = "mycanvas";
                        //document.body.appendChild(canvas);  
                        //生成base64图片数据  
                        var dataUrl = canvas.toDataURL();//获取到该canvas对象中所包含图片编码后的data: URL字符串
                        //把Canvas元素转换成图片，再把图片地址传给一个<img>元素并显示出来
                        var newImg = document.createElement("img");
                        newImg.src = dataUrl;
                        document.body.appendChild(newImg);//将截屏后的图片依附到body后，即，将截图放到body后
                        window.open(newImg.src);
                    }
                });
            });

        });

        </script>  
</head>
<body>  
           
        Hello!  
        <div class="" style="background-color: #abc;">  
            计算机天堂测试html5页面截图  
            <br>jsjtt.com  
        </div>  
           
        <textArea id="textArea" col="20" rows="10" ></textArea>  
        <input class="example1" type="button" value="button">  
        生成界面如下：  
    </body>     
</html>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
</head>
<body>

</body>
</html>
